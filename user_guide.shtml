<html>

<head>
<meta http-equiv="Content-Language" content="en-us">
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<title>Pythonizer user guide</title>
<style>
body {Background-color: #FFFFFF link: #0000CC vlink: #660066} 
h1  { font-family: arial; text-align: Center; color: #CC0000 }
h2  { font-family: arial; text-align: Center; color: #0000CC }
h3  { font-family: arial; text-align: Center }
h4  { font-family: Arial;  color: #006400}
h5  { font-family: Arial;  color: #333300; font-style: italic}
h6  { font-family: Arial; font-size: 10pt; font-style: bold}
em  { font-style: italic; font-weight: bold; color: #FF0000}
cite { font-style: italic; font-weight: bold; color: blue }
a  {color: #0000FF;}

td {font-family:arial,helvetica,sans-serif; font-size:10pt;}

p.petit { font-family: arial; font-size: smaller }
table.swb    {Background-color: cyan}
td.swb       { border-right-style: solid; border-bottom-style: solid }
table.nb    {Background-color: #ffffcc}
tr.nb       { text-align: Center; font-weight: bold }
td.nb        { border-style: solid }
kbd {font-family: Fixedsys; font-size: 12pt; color: #0000FF;}
tt {font-family: Fixedsys; font-size: 12pt; color: #0000FF;}
code {font-family: Fixedsys; font-size: 12pt; color: #0000FF;}
pre {font-family: Fixedsys; color: #0000FF; font-size: 12pt; margin: 1em 40px; }
pre.code {font-family: Fixedsys; color: #0000FF; margin: 1em 40px;}
blockquote {font-size: 10pt; font-family: arial; background: #F9F9F9}
</style>
</head>

<body>

<h1>Pythonizer user guide </h1>

<h3>Version 0.2 (Aug 5, 2020)</h3>

<table border="1" width="100%" bgcolor="#FFFFCC">
   <tr>
      <td width="14%" align="center" bordercolorlight="#000000" bordercolordark="#FFFFFF"><a href="#News">News</a></td>
      <td width="14%" align="center" bordercolorlight="#000000" bordercolordark="#FFFFFF">&nbsp;<a href="../index.shtml">Python for 
      Perl programmers</a></td>
      <td width="14%" align="center" bordercolorlight="#000000" bordercolordark="#FFFFFF">

      <p align="center"><b><a href="../../../../Bookshelf/Computers/python.shtml">Best Python books for system administrators</a></b></p>
      </td>
      <td width="14%" align="center" bordercolorlight="#000000" bordercolordark="#FFFFFF"><a href="#Recommended_Links">Recommended Links</a></td>
      <td width="14%" align="center" bordercolorlight="#000000" bordercolordark="#FFFFFF"><b>
      <a href="../Pl2py_reference/pl2py_functions_map.shtml">Perl 
      to Python functions map</a></b></td>
      <td width="15%" align="center" bordercolorlight="#000000" bordercolordark="#FFFFFF"><b>
      <a href="../Py_shell_commands_execution/index.shtml">Execution of commands and shell scripts using subprocess module</a></b></td>
      <td width="15%" align="center" bordercolorlight="#000000" bordercolordark="#FFFFFF"><b>
      <a href="index.shtml">Two-pass &quot;fuzzy&quot; compiler from Perl to Python</a></b></td>
   </tr>
</table>

<ul>

	<li><b><a href="#Introduction">Introduction</a></b></li>

    <li><b><a href="#Options">Options</a></b></li>

    <li><b><a href="#Structure">Structure</a></b></li>

    <li><b><a href="#Installation">Installation</a></b></li>

    <li><b><a href="#Invocation">Invocation</a></b></li>

	
</ul>
<hr noshade color="#FF0000" width="33%" size="7">

<h3><a name="Introduction">Introduction</a></h3>

<p>This guide corresponds to version 0.3 of pythonizer. Running&nbsp; <tt>pythonizer -h</tt> provides a&nbsp; list of options. </p>

<blockquote>

   <p>Changes since version 0.2: </p>
   <ul>

      <li>default version of Python used is now version 3.8; </li>

      <li>option -p 
allows to set version 2 id you still need generation for Python 2.7 (more constructs will be untranslatable). </li>
   </ul>
</blockquote>

<p>This is alpha version, so do not expect any perfection. It woks but with errors.&nbsp; It still has bugs and not all constructs 
are transliterate correctly.</p>

<p>Also detecting of the type of variables is not implemented and that increase the number of errors in Python as conversion to 
string is not automatic like in Perl.</p>

<p>Here is example of the protocol&nbsp;
<a href="protocol_of_translation_of_pre_pythonizer020.shtml">Full protocol of translation of pre_pythonizer.pl by version 0.2 of 
pythonizer</a></p>

<p>To increase chances of correct transliteration it is recommended to run the Perl script via
<span class="css-truncate css-truncate-target d-block width-fit">
<a class="js-navigation-open link-gray-dark" title="pre_pythonizer.pl" id="9413911e31717187d3a97255af3e0f95-f911160659ba8e3129cfb73f329fb2fd14950434" href="https://github.com/softpano/pythonizer/blob/master/pre_pythonizer.pl">
pre_pythonizer.pl</a></span></p>

<p><span class="css-truncate css-truncate-target d-block width-fit">Parts that can't be translated during the first invocation can 
be commented outs and iteratively the stage can be reached when the Perl script is completely Pythonized and can be corrected 
manually.&nbsp; </span></p>

<p><b><span class="css-truncate css-truncate-target d-block width-fit">Some features:</span></b></p>

<ul class="simple">

   <li>The Pythonizer is implemented in Perl 5.10+ and does not used any non standard Perl libraries. </li>

   <li>Converts most of Perl 4 style code typical for sysadmin scripts into Python. that includes loops, special variables, function 
   calls, lists, hashes,&nbsp; etc.</li>

   <li>Whenever there is no equivalent Python function for a Perl function, the function is emulated. currently this is done only in 
   case when this does not require additional Python library.</li>

   <li>Optimize some types of split function when the regex supplied to Perl actually is a string and does not contain any 
   metacharacters. </li>

   <li>Perl special variables are renamed to selected Python names and used consistently </li>

   <li>Limited translation of double quoted literals with scalars inside list elements and hash elements and ‘here-documents’ is 
   supported. Most common special variable are also translated to their equivalents in double quoted operators. </li>

   <li>Arguments to Perl subroutines are emulated via lists</li>
</ul>

<h4><a name="Limitations">Limitations</a></h4>
<ul class="simple">

   <li>No OO constructs&nbsp; such as <tt>bless</tt> and <tt>package</tt> statement are translated.&nbsp; Use statement and import 
   and expert of variables from modules also need to be translated manually.&nbsp; </li>

   <li>The content of&nbsp; ‘BEGIN’, ‘END’ blocked is translated but blocks itself need to be emulated manually.&nbsp; Please not 
   that these blocks are executed at time of execution of Perl interpreter, not at the time of execution of&nbsp; the script. </li>

   <li>References are not translated correctly. In many cases of usage of references in Perl this is very difficult to do and 
   requires restructuring of the program. </li>
</ul>

<h3><a name="Options">Options</a></h3>

<p>Currently only 4 options are supported: </p>

<p><tt>-v</tt> - verbosity <tt>-v 0</tt> -minimal verbosity <tt>-v 3</tt> -- max verbosity</p>

<p><tt>-t</tt>&nbsp; - tab size for generated code; default<tt> -t 4</tt> </p>

<p><tt>-d</tt> -- debug option for developers; default<tt> -d 0</tt> </p>

<p><tt>-b</tt> -- breakpoint option for developers; default <tt>-b 99999</tt></p>

<p><tt>pythonizer -h</tt> provides a&nbsp; list of options</p>

<h3><a name="Structure">Structure</a></h3>

<p>Pythonizer consists of the main program called, as you can guess, <tt>pythonizer.pl</tt> and three modules (which currently need to 
reside in the same directory as the main program. Main program currently used three modules: </p>
<ul>

   <li><tt>Perlscan.pm</tt></li>

   <li><tt>Pythonizer.pm</tt></li>

   <li><tt>Softpano.pm</tt></li>

</ul>

<p>The total size of the codebase in version 0.2 is around 2.5K lines </p>

<pre># wc -l Perlscan.pm Pythonizer.pm  pythonizer.pl  Softpano.pm
  788 Perlscan.pm
  281 Pythonizer.pm
 1116 pythonizer.pl
  257 Softpano.pm
 2442 total</pre>

<h3><a name="Installation">Installation</a></h3>

<p>You need to download or replicate the directory iether via git&nbsp; or via manual download. In the later case the main program 
and three modules mentioned about should be put into a separate directory.</p>

<p>The directory into which the main program and modules are downloaded&nbsp; needs to be made current before the run. </p>

<p>Currently main program and all modules should reside in a single directory from which you will run the program.&nbsp; </p>

<p>ATTENTION: During 
invocation of <tt>pythonizer</tt> version 0.2 this directory should be current. </p>

<h3><a name="Invocation">Invocation</a></h3>

<p>You can run Pythonizer both in Cygwin and Linux. </p>

<p>To &quot;pythonize&quot; the script <tt>/path/to/your/program</tt>&nbsp; you need to use the following invocation (<em>the directory in 
which pythonizer resides should be current</em> otherwise modules will not be loaded) </p>

<pre>cd /path/to/pythonizer &amp;&amp; pythonizer /path/to/your/program.pl</pre>

<p>If the program runs to the end you will get &quot;pythonized&quot; text in <tt>/path/to/your/program.py</tt></p>

<p>It also produces protocol of translation as it goes which allows you to detect places that need to be commented out translated 
manually. </p>
<hr>
<!--#include virtual="/adv_news_pane.htm" -->
<hr>
<h2><a name="News">Old News</a> ;-) </h2>
<h4>[Aug 17, 2020] Version 0.3 was uploaded. </h4>
<blockquote>

   <p>Changes since version 0.2: </p>
   <ul>

      <li>default version of Python used is now version 3.8; </li>

      <li>option -p 
allows to set version 2 id you still need generation for Python 2.7 (more constructs will be untranslatable). </li>
   </ul>
</blockquote>

<h2><a name="Recommended_Links">Recommended Links</a></h2>
<h3><a name="Top_articles">Top articles</a></h3>
<h3><a name="Sites">Sites</a></h3>

<ul>

   <li><a href="http://www.softpanorama.org/Scripting/Pythonorama/Python_for_perl_programmers/index.shtml">Python for Perl programmers</a></li>

   <li><a href="protocol_of_translation_of_pre_pythonizer020.shtml">Full protocol of translation of pre_pythonizer.pl by version 0.2 of 
pythonizer</a></li>

   <li><a href="http://pleac.sourceforge.net/">PLEAC - Programming Language Examples Alike Cookbook</a></li>

   <li><a href="https://wiki.python.org/moin/PyPerlish">PyPerlish - Python Wiki</a> (it looks like the library itself is no longer 
   available, only docs survived</li>
</ul>

</body>

</html>